# Integration Guide

## Overview

This guide covers how to integrate AI Brand Creator's components and features into your application.

## Getting Started

### Installation

First, install the required dependencies:

```bash
npm install @supabase/supabase-js @google/generative-ai
```

### Environment Setup

Configure your environment variables in `.env`:

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
NEXT_PUBLIC_GEMINI_API_KEY=your_gemini_api_key
NEXT_PUBLIC_ELEVEN_LABS_API_KEY=your_eleven_labs_key
NEXT_PUBLIC_RECRAFT_API_KEY=your_recraft_key
```

## Core Components

### Brand Analysis

```tsx
import { BrandAnalysis } from '@/components/brand-analysis';

export default function BrandPage() {
  const handleAnalysisComplete = (analysis) => {
    console.log('Analysis complete:', analysis);
  };

  return (
    <BrandAnalysis
      businessIdea="Your business description"
      onAnalysisComplete={handleAnalysisComplete}
    />
  );
}
```

### Visual Identity

```tsx
import { VisualIdentityAnalyzer } from '@/components/visual-identity-analyzer';

export default function VisualPage() {
  const handleAnalysisComplete = (visualInfo) => {
    console.log('Visual analysis complete:', visualInfo);
  };

  return (
    <VisualIdentityAnalyzer
      onAnalysisComplete={handleAnalysisComplete}
    />
  );
}
```

### Voice Interface

```tsx
import { VoiceInterface } from '@/components/voice-interface';

export default function VoicePage() {
  return <VoiceInterface />;
}
```

## Database Integration

### Supabase Setup

1. Create required tables:
```sql
-- content_items table
CREATE TABLE content_items (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  title text NOT NULL,
  type text NOT NULL,
  url text NOT NULL,
  metadata jsonb DEFAULT '{}'::jsonb,
  created_at timestamptz DEFAULT now(),
  updated_at timestamptz DEFAULT now(),
  user_id uuid
);

-- voice_profiles table
CREATE TABLE voice_profiles (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  name text NOT NULL,
  voice_id text NOT NULL,
  settings jsonb DEFAULT '{}'::jsonb,
  created_at timestamptz DEFAULT now(),
  user_id uuid
);

-- image_assets table
CREATE TABLE image_assets (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  title text NOT NULL,
  url text NOT NULL,
  metadata jsonb DEFAULT '{}'::jsonb,
  created_at timestamptz DEFAULT now(),
  updated_at timestamptz DEFAULT now(),
  user_id uuid
);
```

2. Enable Row Level Security (RLS):
```sql
ALTER TABLE content_items ENABLE ROW LEVEL SECURITY;
ALTER TABLE voice_profiles ENABLE ROW LEVEL SECURITY;
ALTER TABLE image_assets ENABLE ROW LEVEL SECURITY;
```

### Client Setup

```tsx
import { createClient } from '@supabase/supabase-js';

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;
const supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;

export const supabase = createClient(supabaseUrl, supabaseKey);
```

## AI Integration

### Gemini Setup

```tsx
import { GoogleGenerativeAI } from '@google/generative-ai';

const genAI = new GoogleGenerativeAI(process.env.NEXT_PUBLIC_GEMINI_API_KEY!);
const model = genAI.getGenerativeModel({ model: 'gemini-1.5-pro' });
```

### Voice Generation

```tsx
import { generateVoiceOver } from '@/lib/services/eleven-labs';

const audioBlob = await generateVoiceOver(text, voiceId);
const audioUrl = URL.createObjectURL(audioBlob);
```

### Image Generation

```tsx
import { transformImage } from '@/lib/services/recraft';

const result = await transformImage(imageUrl, prompt, style);
```

## Component Customization

### Styling

Components use Tailwind CSS for styling. Override styles using the `className` prop:

```tsx
<BrandAnalysis
  className="custom-analysis max-w-4xl mx-auto"
  businessIdea="Your business"
/>
```

### Theme Customization

Update the theme in your `tailwind.config.js`:

```js
module.exports = {
  theme: {
    extend: {
      colors: {
        brand: {
          primary: '#3B82F6',
          secondary: '#6366F1'
        }
      }
    }
  }
};
```

## Error Handling

Implement error boundaries for component error handling:

```tsx
import { ErrorBoundary } from '@/components/error-boundary';

export default function BrandPage() {
  return (
    <ErrorBoundary fallback={<ErrorFallback />}>
      <BrandAnalysis />
    </ErrorBoundary>
  );
}
```

## Performance Optimization

### Data Caching

Cache analysis results:

```tsx
const cachedAnalysis = localStorage.getItem('brandAnalysis');
if (cachedAnalysis) {
  return JSON.parse(cachedAnalysis);
}

const analysis = await performAnalysis();
localStorage.setItem('brandAnalysis', JSON.stringify(analysis));
```

### Lazy Loading

Use dynamic imports for heavy components:

```tsx
import dynamic from 'next/dynamic';

const VisualIdentityAnalyzer = dynamic(
  () => import('@/components/visual-identity-analyzer'),
  {
    loading: () => <LoadingSpinner />,
    ssr: false
  }
);
```

## Security Considerations

### API Key Protection

Store API keys in environment variables and never expose them in client-side code.

### Data Validation

Validate all user inputs:

```tsx
function validateInput(data) {
  if (!data.businessIdea) {
    throw new Error('Business idea is required');
  }
  // Add more validation as needed
}
```

### Access Control

Implement proper authentication and authorization:

```tsx
function checkAccess(userId, resource) {
  // Check if user has access to resource
  return hasPermission(userId, resource);
}
```

## Troubleshooting

### Common Issues

1. **Component Not Rendering**
   - Check if all required props are provided
   - Verify API keys are set correctly
   - Check for console errors

2. **Analysis Fails**
   - Verify API rate limits
   - Check input data validity
   - Review error messages

3. **Performance Issues**
   - Implement lazy loading
   - Use data caching
   - Optimize asset sizes

### Support Resources

- Documentation: `/docs`
- API Reference: `/docs/api`
- Community Support: Discord server
- Email Support: support@aibrandcreator.com